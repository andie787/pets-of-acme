# Project Journal

A very brief journal of progress when creating a Next.js app for the first time on Vercel. This journal was in a Google doc but I'm going to add it here to make it easier to share.

## October 11

Met with  Rich Haines and had a great conversation. Hopefully I‚Äôll move forward and if I do I‚Äôll need a tech project that uses Next.js and Vercel. Thinking‚Ä¶

## October 12

My project is going to be either a personal recipe box or a company directory of pets. The pet directory was on my mind at Fly.io, so I‚Äôm leaning that way. 
Heading to an early Thanksgiving dinner brunch.

## October 13

### Requirements

General requirements for a pet directory:
- a nice interface to browse the pet directory
- a form for users to add their pets
- a list of fields for the form (name, nicknames, photo, type of pet, gender, birthday, likes and dislikes, ‚Äúsiblings‚Äù, pet parent name, characteristics?)
- a way to search for or filter pets by field

### Tech stack

Will need a database, thinking of using Vercel Postgres to see how easy that is. So Next.js, Postgres, Prisma‚Ä¶ Probably tailwind css.

### Random questions/TODOs

- Can I use v0 to help with the UI? Or maybe other parts?
- Should I use Prisma with Postgres? yes
- Look for Vercel example apps.
- Can I password protect the site on the Hobby plan?
- I wanted the id/URL for each pet to be the pet name rather than a random number but then I‚Äôd need to increment duplicate pet name with a digit‚Ä¶ might add this later if time
- Interesting that the Prisma docs show I can use Date as a type, but then I get an error about that and end up needing to use DateTime anyway.

Commands to remember: npx prisma generate and npx prisma db push

### Progress

Created a starter next-js app, a GitHub repo for it, and threw it into a Vercel project. Pretty straightforward.
Got an error about my codebase not being linked when I wanted to use the vercel CLI. Fixed that.

Blech I init‚Äôed Prisma and overwrote the .env file from vercel postgres :sad face emoji:

Resources:
https://vercel.com/guides/nextjs-prisma-postgres
https://ui.shadcn.com/docs/installation/next 
https://vercel.com/docs/cli/project-linking

## October 14

Ended yesterday with a broken app. Struggled with api routes for a bit. I am probably not using best practices for file structure.

- removed nicknames field for now; I can figure out how to add an array later
- fixed the age calculation based on the birthday, having it in the frontend wasn‚Äôt working so moved it to route.ts
- added more pet types, made pet types an enum/dropdown
- I used v0 for the initial frontend component for the main page, so it looks pretty good, but the form to add a new pet is super ugly
- found out that the Vercel build is way stricter than whatever VSCode extension I‚Äôm using üôÇ
- Also ran into this: https://pris.ly/d/vercel-build 

OK, after 6 deployment failures (each one failing later and later!) I got the app, such as it is, up on Vercel.

What I want to do now are mostly tweaks and enhancements to this MVP.

### TODO
- add the nicknames field back in - done
- make some fields optional?
- figure out how to upload and store photos (Blob?)
- fix the birthday date displayed in the UI (so it doesn‚Äôt show seconds) - done
- need to be able to edit existing records?
- make the form pretty - done
- add an ‚Äúother‚Äù pet type?
- more fields? Maybe a short bio? yes! - bio added
- would be nice to have a model that took answers to a short survey and the other field values and wrote the bio. but that‚Äôs too much for this project‚Ä¶ 

## October 15

I‚Äôm going to see if v0 wants to make my form pretty.
v0 made my form pretty.

The form needs a cancel button. Hmmm I tried useRouter and it was super easy. Why does Vercel recommend using Link? https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#link-component. You can wrap the link around a button and it will pass the href to it‚Ä¶ nice.

Future Optimization: the cards that load from the database take a second longer than the rest of the page to load. I‚Äôm sure I‚Äôm doing something wrong and could fix this so the whole page loads at once.

Idea: you know what would be really good for newbies and others? If you linked deployment failure error messages to v0 for advice on how to fix them.

The linter on the Vercel build doesn‚Äôt like the component files generated by shadcn. I‚Äôm turning this off for now: @typescript-eslint/no-empty-object-type (https://nextjs.org/docs/pages/building-your-application/configuring/eslint#disabling-rules )

## TODO

edit function, delete function

## October 16

dark mode maybe?

Asked V0 to optimize my cobbled-together custom date picker component. It explained all the optimizations. Not entirely sure if they were all necessary; these AI assistants can be a bit enthusiastic.

## October 21

Committed changes, fixed errors, and updated the readme. Also added this journal.

## October 30

Finally coming back after being busy with other things. I want to be able to delete pets. The issue I see is that you'd want to use the ID to do that, but how to retrieve it? The ID is just an integer, starts with 1 and increments.

Design-wise for the user, what would be best? Considering I want to also add an edit button later, maybe a "more" icon with a dropdown. Edit will need to open the form, but delete could just have an inline confirmation.

Add DELETE to route.ts.
